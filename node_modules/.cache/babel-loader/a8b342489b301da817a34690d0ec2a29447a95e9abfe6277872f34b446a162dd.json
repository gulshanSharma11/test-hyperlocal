{"ast":null,"code":"var _jsxFileName = \"/Users/gulshansharma/vscode/vasvencher/HyperLocal/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { auth, provider } from '../firebase';\nimport { signInWithPopup } from 'firebase/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst signInWithGoogle = async () => {\n  try {\n    const result = await signInWithPopup(auth, provider);\n    localStorage.setItem('user', JSON.stringify(result.user));\n    return result.user;\n  } catch (error) {\n    console.error('Error during sign in:', error);\n    throw error;\n  }\n};\nconst getCurrentUser = () => {\n  const user = localStorage.getItem('user');\n  return user ? JSON.parse(user) : null;\n};\nconst Login = () => {\n  _s();\n  const [user, setUser] = useState(getCurrentUser());\n  useEffect(() => {\n    const storedUser = getCurrentUser();\n    if (storedUser) {\n      setUser(storedUser);\n    }\n  }, []);\n  const handleGoogleLogin = async () => {\n    try {\n      const loggedInUser = await signInWithGoogle();\n      setUser(loggedInUser);\n    } catch (error) {\n      console.error('Login failed', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: user ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Welcome, \", user.displayName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleGoogleLogin,\n      children: \"Sign in with Google\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"7l7ZWEiK82uq5rKpyzARkAZZqj4=\");\n_c = Login;\nexport { Login, signInWithGoogle, getCurrentUser };\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","auth","provider","signInWithPopup","jsxDEV","_jsxDEV","signInWithGoogle","result","localStorage","setItem","JSON","stringify","user","error","console","getCurrentUser","getItem","parse","Login","_s","setUser","storedUser","handleGoogleLogin","loggedInUser","children","displayName","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/gulshansharma/vscode/vasvencher/HyperLocal/src/components/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { auth, provider } from '../firebase';\nimport { signInWithPopup } from 'firebase/auth';\n\n\nconst signInWithGoogle = async () => {\n  try {\n    const result = await signInWithPopup(auth, provider);\n    localStorage.setItem('user', JSON.stringify(result.user));\n    return result.user;\n  } catch (error) {\n    console.error('Error during sign in:', error);\n    throw error;\n  }\n};\n\nconst getCurrentUser = () => {\n  const user = localStorage.getItem('user');\n  return user ? JSON.parse(user) : null;\n};\n\nconst Login = () => {\n  const [user, setUser] = useState(getCurrentUser());\n\n  useEffect(() => {\n    const storedUser = getCurrentUser();\n    if (storedUser) {\n      setUser(storedUser);\n    }\n  }, []);\n\n  const handleGoogleLogin = async () => {\n    try {\n      const loggedInUser = await signInWithGoogle();\n      setUser(loggedInUser);\n    } catch (error) {\n      console.error('Login failed', error);\n    }\n  };\n\n  return (\n    <div>\n      {user ? (\n        <div>\n          <h2>Welcome, {user.displayName}</h2>\n        </div>\n      ) : (\n        <button onClick={handleGoogleLogin}>Sign in with Google</button>\n      )}\n    </div>\n  );\n};\n\nexport { Login, signInWithGoogle, getCurrentUser };\n\n\n\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,IAAI,EAAEC,QAAQ,QAAQ,aAAa;AAC5C,SAASC,eAAe,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAGhD,MAAMC,gBAAgB,GAAG,MAAAA,CAAA,KAAY;EACnC,IAAI;IACF,MAAMC,MAAM,GAAG,MAAMJ,eAAe,CAACF,IAAI,EAAEC,QAAQ,CAAC;IACpDM,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACJ,MAAM,CAACK,IAAI,CAAC,CAAC;IACzD,OAAOL,MAAM,CAACK,IAAI;EACpB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,MAAMA,KAAK;EACb;AACF,CAAC;AAED,MAAME,cAAc,GAAGA,CAAA,KAAM;EAC3B,MAAMH,IAAI,GAAGJ,YAAY,CAACQ,OAAO,CAAC,MAAM,CAAC;EACzC,OAAOJ,IAAI,GAAGF,IAAI,CAACO,KAAK,CAACL,IAAI,CAAC,GAAG,IAAI;AACvC,CAAC;AAED,MAAMM,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAM,CAACP,IAAI,EAAEQ,OAAO,CAAC,GAAGrB,QAAQ,CAACgB,cAAc,CAAC,CAAC,CAAC;EAElDf,SAAS,CAAC,MAAM;IACd,MAAMqB,UAAU,GAAGN,cAAc,CAAC,CAAC;IACnC,IAAIM,UAAU,EAAE;MACdD,OAAO,CAACC,UAAU,CAAC;IACrB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI;MACF,MAAMC,YAAY,GAAG,MAAMjB,gBAAgB,CAAC,CAAC;MAC7Cc,OAAO,CAACG,YAAY,CAAC;IACvB,CAAC,CAAC,OAAOV,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;IACtC;EACF,CAAC;EAED,oBACER,OAAA;IAAAmB,QAAA,EACGZ,IAAI,gBACHP,OAAA;MAAAmB,QAAA,eACEnB,OAAA;QAAAmB,QAAA,GAAI,WAAS,EAACZ,IAAI,CAACa,WAAW;MAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjC,CAAC,gBAENxB,OAAA;MAAQyB,OAAO,EAAER,iBAAkB;MAAAE,QAAA,EAAC;IAAmB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ;EAChE;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACV,EAAA,CA9BID,KAAK;AAAAa,EAAA,GAALb,KAAK;AAgCX,SAASA,KAAK,EAAEZ,gBAAgB,EAAES,cAAc;AAAG,IAAAgB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}